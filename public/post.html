<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="navbar">
        <a href="index.html">H O M E</a>
        <a href="feed.html">F E E D</a>
        <a href="post.html"> P O S T</a>

      </div>
      <div class="note"></div>
      <form method="post" action="/posts">
        <p1>
          <input class="messageInput" type="text" name="message" placeholder="message goes here">
        </p1>
        <p2>
          <input type="text" class="url" name="url" placeholder="Show me dat url of snack!" >
        </p2>
        <p3>
          <input class="nameInput" name="author" placeholder="what's your name?">
        </p3>
        <p4>
          <button class="postButton">Post it!</button>
        </p4>
      </form>
    
      <script>
      function sendMessageToServer(e) {
        let data = {};
        data.message = document.querySelector(".messageInput").value;
        data.url = document.querySelector(".url").value;
        data.author = document.querySelector(".nameInput").value;
          e.preventDefault();
          fetch("/posts", {
            method:"POST",
            body: JSON.stringify(data),
            headers: {'Content-Type': 'application/json'}
          });
       document.querySelector(".note").innerHTML = "Thanks! Your message was saved!";

      }

      document.querySelector(".postButton").addEventListener("click", sendMessageToServer);
      </script>


</body>
</html>
