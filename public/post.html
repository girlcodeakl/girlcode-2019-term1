<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="navbar">
        <a href="index.html">H O M E</a>
        <a href="feed.html">F E E D</a>
        <a href="post.html"> P O S T</a>
      </div>
      <div class="note"></div>
      <form method="post" action="/posts">
        <p1>
        <input class="messageInput" type="text" name="message" value="message">
      </p1>
        <p2>
        <input type="text" class="url" name="url" value="image url" >
      </p2>
        <p3>
        <input class="nameInput" name="author" value="your name">
      </p3>
        <p4>
        <button class="postButton">post it</button>
      </p4>
      </form>

      <script>
      function sendMessageToServer(e) {
        let data = {};
        data.message = document.querySelector(".messageInput").value;
          e.preventDefault();
          fetch("/posts", {
            method:"POST",
            body: JSON.stringify(data),
            headers: {'Content-Type': 'application/json'}
          });
       document.querySelector(".note").innerHTML = "Thanks! Your message was saved!";

      }

      document.querySelector(".postButton").addEventListener("click", sendMessageToServer);
      </script>


</body>
</html>
